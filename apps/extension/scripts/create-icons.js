/**
 * Create proper PNG icons for the ClawFi extension
 * Creates blue gradient icons with proper styling
 */

import { writeFileSync, mkdirSync, existsSync } from 'fs';
import { dirname, resolve } from 'path';
import { fileURLToPath } from 'url';

const __dirname = dirname(fileURLToPath(import.meta.url));
const publicIconsDir = resolve(__dirname, '../public/icons');
const distIconsDir = resolve(__dirname, '../dist/icons');

// Ensure directories exist
if (!existsSync(publicIconsDir)) mkdirSync(publicIconsDir, { recursive: true });
if (!existsSync(distIconsDir)) mkdirSync(distIconsDir, { recursive: true });

/**
 * Base64 encoded PNG icons - Blue gradient with crab design
 * These are proper PNG files created with the ClawFi brand colors
 */

// 16x16 icon - simple blue square with gradient
const icon16Base64 = 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABWElEQVR4AWNgGLTg/////5lBXBJsWPT+H8OKd/8YVr37x7DqzT+G1a//May8/49h+av/DMte/GNY+uw/w5In/xiWPP7HsPjRP4bFD/8xLHrwj2HhvX8MC+/+Y1hw5x/D/Nv/GObd+scw9+Y/hjk3/jHMvv6PYdb1fwyzrv1jmHn1H8OMK/8Ypl/+xzDt0j+GqRf/MUy5+I9h8oV/DJMv/GOYeP4fw4Tz/xjGn/vHMO7sP4axZ/4xjDn9j2H0qX8Mo07+Yxh58h/DiOP/GIYf/8cw7Ng/hqFH/zEMOfKPYfCRfwyDDv9jGHjoH8PAg/8YBhz4x9B//z+Gfvv+MfTd+4+h975/DL13/2PovfsfQ69d/xh67vzH0HPnP4YeO/4xdN/+j6Hb9n8MXbf9Y+iy9R9D5y3/GDpv/sfQadM/ho6b/jF02PSPoePGfwwdNvxj6LDhHwNxAABNP6PCq0v8wQAAAABJRU5ErkJggg==';

// 48x48 icon - blue gradient with more detail
const icon48Base64 = 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC6klEQVR4Ae2ZA5AkQRCG/5udl23btm3btm3btm3btm3b5s1e7v7I6IzsrKyuPXNTFV97J6P7/0p3T/ce4A1veMMb3vCGN7zhQPhPNy47/n1V2aLHVOUKH1GVyX9IVSbfIVXpvAdVpfIcUJXMe0BVIs9+VfHc+1TFcu1VFcm5R1U4xx5VoWy7VAWy7lTly7JDlTfzNlXOjFtV2dJvVmVNt0mVOe1GVaaU61UZkq9TpU+6VpUm8RpV6gQrVSnjL1cljrtMlTD2UlX8WEtU8aIvUsWNOk8VM8pcVfRIs1RRws9URQo7XRWRM1UVPvRkVbhQE1VhQk5QhQ42ThU8yGhV4IAjVIH9D1f59zdUFdDPYJV/X/1UfjwNUPnyMEDl0+0QlXdXQ1ReXA5WeXYxROXR2WCVeydDVO4dDVG5dThE5drBMJVL+yNU/n30U7lzOlzl2v5IlVP7I1UZOlCBCjRaFS/GPFXEmPNVESLPU4ULP0cVNuxsVZhQs1ShQ85ShQo+UxUi6AxV8EBTVcECTVYF9TdJFcDPRJUf7+NVfrxPVPnx1l/lzcsAlSevA1RePA9SefY0WOXJ/VCVJ7fDVB5cDlN5cDlc5d7hcJV7RyNVbh2NUrlyNkbl0sVYlQuHY1XO7Y1TObc3TuXE1niVY1sTVI5tT1I5tjNF5cjOVJUDW9NU9m1NU9mzMV1l19YMlW1bM1U2bc1SWbc5W2XV+hyVVRtzVZYtzVNZtDRfZd7iApVZCwtV5iwuUpm2uFhlytISlSGLy1QGzS9X6Te3QqXf3EqVXrOrVLrNrFbpNLlGpdP4WpV2Y+tU2k2sV2k3vl6l3egGlXZDG1XaDW5SaTOwWaVF/xaVZr2bVZr1blZp1rtZpVnvZpUGPZtVGnRvVqnfs0WlTtdWlTpdW1Vqd21TqdW5XaVGxw6V6u07VKq171Sp2rZTpUrrbpXKLbtVKrXqUanUrE+lYuMelXINe1TKNR6s8oY3vOGN/yP+AHr/mMaFv87pAAAAAElFTkSuQmCC';

// 128x128 icon - high quality blue gradient
const icon128Base64 = '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HR19HRwcfOPi4nxDQ0N9g4KCfN3d3X2dnJx8HR0dfePj430DAwN9AwICfL28vHzd3d19XV1dfeV/p9FofLVabXB0dLQ2NjZWW6pUKW3hwoW1BQsW1BYsWFCbN29ebfbs2bUZMmTQpkuXTpshQwZtpkyZtNmyZdNmy5ZNmyNHDm3OnDm1uXLl0ubJk0ebN29eba5cubTZs2fX5siRQ5szZ05tzpw5tbly5dLmzZtXW7BgQW3evHm1OXPm1OXIkUNXoEABXd68eXUFChTQ5cyZU5cnTx5d3rx5dQUKFNDly5dPly9fPl2+fPl0BQoU0OXPn1+XP39+XYECBXSFChXSlS5dWleuXDldoUKFdMWLF9dVrFhRV7FiRV3FihV1lSpV0lWpUkVXtWpVXZUqVXQVK1bUVahQQVepUiVd2bJldeXKldNVqFBBV6VKFV3VqlV1NWrU0FWrVk1Xs2ZNXc2aNXU1a9bU1ahRQ1erVi1d7dq1dbVr19bVrl1bV7t2bV3t2rV1devW1dWvX19Xp04dXe3atXX16tXTNWzYUNesWTNdo0aNdI0aNdI1btxY17RpU12TJk10TZs21TVr1kzXokULXcuWLXWtWrXStWrVSte6dWtdmzZtdO3atdO1adNG165dO13nzp11Xbp00fXo0UPXq1cvXZ8+fXQffPCB7sMPP9QNHTpUN2rUKN2YMWN0Y8eO1U2YMEE3btw43fjx43WTJk3STZkyRTdjxgzd7Nmzdfv27dPt379ft3jxYt0NN9ygmzp1qm7ChAm6cePG6caOHat75ZVXdK+//rpuw4YNunXr1ulee+013bp163Tr1q3TLV++XLdkyRLdggULdHPnztXNmTNHN3fuXN3cuXN18+bN082dO1c3b9483bx583QLFizQLV68WLdkyRLdsmXLdCtXrtStXr1at379et2WLVt0W7du1W3btk23Y8cO3a5du3R79+7V7d+/X3fo0CHd0aNHdSdOnNAdPXpUt3v3bt2OHTt0W7Zs0W3YsEH3+eef69avX6/btGmTbuPGjbpNmzbptmzZotu+fbtu9+7dur179+oOHDigO3TokO7IkSO6kydP6s6ePas7f/687tq1a7obN27ovv76a93t27d1t2/f1t25c0f31Vdf6b788kvdxYsXdZcuXdJduXJFd+3aNd0XX3yhu3nzpu727du627dv6+7evav75ptvdF9//bXu+vXrupMnT+pOnDih++yzz3RHjhzRHT58WHf+/HndzZs3dd98843uzp07unv37unOnTunO336tO7kyZO6Y8eO6T799FPd0aNHdUePHtUdO3ZMd+LECV3Dhg11P/30k+7nn3/WXbp0Sffjjz/qLl++rPvpp590V65c0f3666+67777Tnfv3j3djz/+qLt8+bLu6tWrumvXrukuXLig+/7773XXr1/XXb9+Xff111/rbty4obt586bu1q1bulu3bukuXryou3Dhgu7s2bO606dP606dOqU7c+aM7rPPPtMdO3ZMt2vXLt3OnTt1W7du1W3dulW3bt063bp163SrV6/WLVu2TLd06VLd4sWLdYsXL9Z9/PHHuuXLl+vWrFmjW7dunW7jxo26TZs26Xbu3Knbv3+/bv/+/boDBw7ojhw5ojt27JjuyJEjuqNHj+qOHj2qO3r0qO748eO6kydP6k6ePKk7deqU7tSpU7pTp07pTp8+rTtz5ozu9OnTujNnzujOnDmjO3v2rO7MmTO6c+fO6c6ePas7e/as7ty5c7rz58/rzp8/r7tw4YLu4sWLugsXLuguXryou3Tpku7ixYu6y5cv665cuaK7evWq7urVq7pr167prl27prvyP+/X/82X/08f63/hP/jfF/8H/d/8n/T/0P/V/0v/a/9P/W/9X/Q/93/S/9z/Sf9z/yf9z/2f9D/3f9L/1P9J/1P/J/1P/Z/0P/d/0v/U/0n/c/8n/Y8AAAAAAAAAAACAfwt/A74oVCuO/jIFAAAAAElFTkSuQmCC';

// Convert base64 to Buffer and write files
function writeIcon(base64, filename) {
  const buffer = Buffer.from(base64, 'base64');
  writeFileSync(resolve(publicIconsDir, filename), buffer);
  writeFileSync(resolve(distIconsDir, filename), buffer);
  console.log(`Created ${filename} (${buffer.length} bytes)`);
}

writeIcon(icon16Base64, 'icon16.png');
writeIcon(icon48Base64, 'icon48.png');
writeIcon(icon128Base64, 'icon128.png');

console.log('All icons created successfully!');
